#include "animal.h"
#include <stdio.h>
#include <string.h>

struct ANIMAL_TYPE *animal_type = NULL;

static int init(struct ANIMAL *self)
{

printf("animal is initializing ...\n");

}

int makeNoise(struct ANIMAL *self)
{
  printf("Animal: makes noise...");
}

static int sleep(struct ANIMAL *self)
{
  printf("Animal: sleeps...");
}

static int roam(struct ANIMAL *self)
{
  printf("Animal: roams around...");
}

int AnimalTypeInit(struct ANIMAL_TYPE *o)
{
  static struct ANIMAL_TYPE animal_type_instance = { 0 };
  static int initialized = 0;

  if (0 == initialized)
    {
      //init superclass/supertype
      ObjectTypeInit(object_type);
      memcpy(animal_type, object_type, sizeof(object_type));
      animal_type -> makeNoise = &makeNoise;
      animal_type -> sleep = &sleep;
      animal_type -> roam = &roam;
    }
  return 0;
}


